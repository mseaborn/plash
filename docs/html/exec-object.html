<html><head><meta http-equiv="Content-Type" content="text/html; charset=ANSI_X3.4-1968"><title>exec-object</title><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="Plash: the Principle of Least Authority shell"><link rel="up" href="man-pages.html" title="Chapter&#160;6.&#160;Man pages"><link rel="prev" href="plash-opts.html" title="plash-opts"><link rel="next" href="run-emacs.html" title="plash-run-emacs"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">exec-object</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="plash-opts.html">Prev</a>&#160;</td><th width="60%" align="center">Chapter&#160;6.&#160;Man pages</th><td width="20%" align="right">&#160;<a accesskey="n" href="run-emacs.html">Next</a></td></tr></table><hr></div><div class="refentry" lang="en"><a name="exec-object"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>exec-object &#8212; Creates executable objects for use under Plash</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">exec-object <em class="replaceable"><code>executable-pathname</code></em> <em class="replaceable"><code>root-directory</code></em></pre><pre class="synopsis"><span><strong class="command">def</strong></span> <em class="replaceable"><code>var</code></em> =
    <span><strong class="command">capcmd</strong></span> <span><strong class="command">exec-object</strong></span> /bin/foo
      /x=(<span><strong class="command">mkfs</strong></span> /bin/foo /usr ...)
</pre></div><div class="refsect1" lang="en"><a name="id2525431"></a><h2>Description</h2><p>This is a command that is only useful when called using a
<span><strong class="command">capcmd</strong></span> expression from Plash.</p><p>This command returns an executable object E.  When E is invoked with a
root directory <em class="replaceable"><code>dir2</code></em> as an argument, it forks a new process whose
root directory is set to be a union of <em class="replaceable"><code>root-directory</code></em> and
<em class="replaceable"><code>dir2</code></em>, and that new process <code class="function">execve()</code>s
<em class="replaceable"><code>executable-pathname</code></em>.</p><p>This is commonly used with the shell's <span><strong class="command">mkfs</strong></span> expression,
which will construct the root directory.</p></div><div class="refsect1" lang="en"><a name="id2525485"></a><h2>Return value</h2><p>The return value given by <code class="function">exit()</code> isn't used.  This program
returns an object reference using the <code class="varname">return_cont</code>
mechanism.  It doesn't exit until all the references to the object
have been dropped.</p></div><div class="refsect1" lang="en"><a name="id2525507"></a><h2>Examples</h2><pre class="programlisting">
  def my_oggenc =
    capcmd exec-object '/usr/bin/oggenc'
      /x=(mkfs /usr/bin/oggenc /usr/lib /lib)

  def my_oggenc =
    capcmd exec-object '/usr/bin/oggenc'
      /x=(mkfs
            /usr/bin/oggenc=(F /debian/usr/bin/oggenc)
            /usr/lib=(F /debian/usr/lib)
            /lib=(F /debian/lib))

  def my_oggenc =
    capcmd exec-object '/usr/bin/oggenc'
      /x=(mkfs
            /usr/bin/oggenc
            /usr/lib/libvorbisenc.so.0
            /usr/lib/libvorbis.so.0
            /lib/i686/libm.so.6
            /usr/lib/libogg.so.0
            /usr/lib/plash/lib/libc.so.6)
</pre></div><div class="refsect1" lang="en"><a name="id2525527"></a><h2>See also</h2><p>plash(1)</p><p>/usr/share/doc/plash
</p></div><div class="refsect1" lang="en"><a name="id2525539"></a><h2>Author</h2><p>Mark Seaborn &lt;mseaborn@onetel.com&gt;
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="plash-opts.html">Prev</a>&#160;</td><td width="20%" align="center"><a accesskey="u" href="man-pages.html">Up</a></td><td width="40%" align="right">&#160;<a accesskey="n" href="run-emacs.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">plash-opts&#160;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&#160;plash-run-emacs</td></tr></table></div></body></html>
