<html><head><meta http-equiv="Content-Type" content="text/html; charset=ANSI_X3.4-1968"><title>Might be problems in future</title><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="Plash: the Principle of Least Authority shell"><link rel="up" href="bugs-and-vulns.html" title="Chapter&#160;8.&#160;Bugs and vulnerabilities"><link rel="prev" href="bugs.html" title="Bugs"><link rel="next" href="compatibility.html" title="Programs that don't work under Plash"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Might be problems in future</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="bugs.html">Prev</a>&#160;</td><th width="60%" align="center">Chapter&#160;8.&#160;Bugs and vulnerabilities</th><td width="20%" align="right">&#160;<a accesskey="n" href="compatibility.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="problems"></a>Might be problems in future</h2></div></div></div><p>Re-entrancy: run_server_step() is called while waiting for a reply on
a return continuation object.  It will handle incoming requests --
these should be queued instead.
 * I don't think this actually causes any bugs, since there are no
   TOCTTOU problems in the code.  (There aren't really any invariants
   that are broken during a method call.)</p><p>No resource accountability (not really a bug)</p><p>Make sure that messages are encoded and decoded properly on 64-bit and
other-endian machines.
 * Currently I assume sizeof(int) == 4.</p><p>Sending on a socket is never queued.  This could lead to DoS of
servers.  It could potentially lead to deadlocks, if both ends of a
connection send at the same time (this doesn't happen at the moment
because all connections are client-server and call-return).</p><p>There may be cases where libc calls should preserve errno but don't.</p><p>Behaviour that might need changing:</p><p>build-fs.c attaches copies of symlinks into processes' file
namespaces, so the process won't see them change when they change in
the real filesystem.  This may not be expected.  Actually, symlinks
are immutable and the inode would change if you replaced one.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="bugs.html">Prev</a>&#160;</td><td width="20%" align="center"><a accesskey="u" href="bugs-and-vulns.html">Up</a></td><td width="40%" align="right">&#160;<a accesskey="n" href="compatibility.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Bugs&#160;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&#160;Programs that don't work under Plash</td></tr></table></div></body></html>
